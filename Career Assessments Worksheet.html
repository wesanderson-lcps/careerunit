<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CAREER ASSESSMENTS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Light background for contrast */
            color: #1e293b; /* Darker text for readability */
        }
        .input-field {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #cbd5e0;
            border-radius: 0.375rem; /* rounded-md */
            background-color: #f8fafc;
        }
        .table-header {
            background-color: #e2e8f0; /* Gray 200 */
            font-weight: bold;
            text-align: center;
            padding: 0.75rem;
            border-bottom: 1px solid #cbd5e0;
        }
        .table-cell {
            padding: 0.75rem;
            border-right: 1px solid #cbd5e0;
            border-bottom: 1px solid #cbd5e0;
        }
        .table-cell:last-child {
            border-right: none;
        }
        .grid > .table-cell:nth-child(4n) { /* Remove right border for last column in 4-column grid */
            border-right: none;
        }
        .grid > .table-cell:nth-child(3n) { /* Remove right border for last column in 3-column grid */
            border-right: none;
        }
        .grid > .table-cell:nth-child(4n - 3) { /* Add left border for first column in 4-column grid */
            border-left: 1px solid #cbd5e0;
        }
        .grid > .table-cell:nth-child(3n - 2) { /* Add left border for first column in 3-column grid */
            border-left: 1px solid #cbd5e0;
        }
        .grid > .table-cell:nth-last-child(-n+4) { /* Remove bottom border for last row in 4-column grid */
            border-bottom: none;
        }
        .grid > .table-cell:nth-last-child(-n+3) { /* Remove bottom border for last row in 3-column grid */
            border-bottom: none;
        }
    </style>
</head>
<body class="p-4 sm:p-6 md:p-8 lg:p-10 bg-gray-50 min-h-screen flex items-center justify-center">
    <div id="worksheet-content" class="max-w-5xl w-full bg-white shadow-xl rounded-xl p-6 sm:p-8 md:p-10 lg:p-12 border border-gray-200 text-center">

        <h1 class="text-3xl sm:text-4xl md:text-5xl font-extrabold text-center text-gray-800 mb-8 leading-tight">
            CAREER ASSESSMENTS
        </h1>

        <p class="text-base sm:text-lg text-gray-700 mb-6">
            <span class="font-bold">Directions:</span> Fill out the chart below after completing the Career Interests & Work Values Assessment and the Skill Assessment using the VA Wizard at
            <a href="https://www.vawizard.org/wizard/careersAssess" target="_blank" class="text-blue-600 hover:underline">https://www.vawizard.org/wizard/careersAssess</a>
        </p>

        <div class="mb-8 border border-gray-300 rounded-lg overflow-hidden">
            <h2 class="text-xl sm:text-2xl font-bold text-center py-3 table-header">
                Career Interests and Values Assessment
            </h2>
            <div class="grid grid-cols-2 sm:grid-cols-4 border-t border-gray-300">
                <div class="table-cell table-header col-span-1 sm:col-span-1">Primary Interest</div>
                <div class="table-cell table-header col-span-1 sm:col-span-1">Secondary Interest</div>
                <div class="table-cell table-header col-span-1 sm:col-span-1">Primary Value</div>
                <div class="table-cell table-header col-span-1 sm:col-span-1">Secondary Value</div>
                <div class="table-cell col-span-1 sm:col-span-1"><input type="text" id="primary-interest" class="input-field" placeholder="Enter Primary Interest"></div>
                <div class="table-cell col-span-1 sm:col-span-1"><input type="text" id="secondary-interest" class="input-field" placeholder="Enter Secondary Interest"></div>
                <div class="table-cell col-span-1 sm:col-span-1"><input type="text" id="primary-value" class="input-field" placeholder="Enter Primary Value"></div>
                <div class="table-cell col-span-1 sm:col-span-1"><input type="text" id="secondary-value" class="input-field" placeholder="Enter Secondary Value"></div>
            </div>
        </div>

        <div class="mb-8 border border-gray-300 rounded-lg overflow-hidden">
            <h2 class="text-xl sm:text-2xl font-bold text-center py-3 table-header">
                Do you agree with these results? Why or why not?
            </h2>
            <div class="p-4">
                <textarea id="agree-results" class="input-field min-h-[80px]" placeholder="Explain your thoughts here..."></textarea>
            </div>
        </div>

        <div class="mb-8 border border-gray-300 rounded-lg overflow-hidden">
            <h2 class="text-xl sm:text-2xl font-bold text-center py-3 table-header">
                Pick 3 Careers (4 or > 4 year degree)
            </h2>
            <div class="grid grid-cols-1 sm:grid-cols-3 border-t border-gray-300">
                <div class="table-cell col-span-1"><input type="text" id="career-1" class="input-field" placeholder="Enter Career 1"></div>
                <div class="table-cell col-span-1"><input type="text" id="career-2" class="input-field" placeholder="Enter Career 2"></div>
                <div class="table-cell col-span-1"><input type="text" id="career-3" class="input-field" placeholder="Enter Career 3"></div>
            </div>
        </div>

        <div class="mb-8 border border-gray-300 rounded-lg overflow-hidden">
            <h2 class="text-xl sm:text-2xl font-bold text-center py-3 table-header">
                Why did you choose these careers?
            </h2>
            <div class="p-4">
                <textarea id="why-careers" class="input-field min-h-[80px]" placeholder="Explain your reasons here..."></textarea>
            </div>
        </div>

        <div class="mb-8 border border-gray-300 rounded-lg overflow-hidden">
            <h2 class="text-xl sm:text-2xl font-bold text-center py-3 table-header">
                Career Clusters (Name & % Match)
            </h2>
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 p-4">
                <input type="text" id="cluster-1" class="input-field" placeholder="Cluster 1 & % Match">
                <input type="text" id="cluster-2" class="input-field" placeholder="Cluster 2 & % Match">
                <input type="text" id="cluster-3" class="input-field" placeholder="Cluster 3 & % Match">
            </div>
        </div>

        <div class="mb-8 border border-gray-300 rounded-lg overflow-hidden">
            <h2 class="text-xl sm:text-2xl font-bold text-center py-3 table-header">
                Skills Assessment & Matching Career Clusters
            </h2>
            <div class="p-4 text-gray-700 text-center">
                <p class="mb-4">Go to <a href="https://www.vawizard.org/wizard/skill-assess" target="_blank" class="text-blue-600 hover:underline">https://www.vawizard.org/wizard/skill-assess</a> to complete the Skills Assessment.</p>
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                    <input type="text" id="matching-cluster-1" class="input-field" placeholder="Matching Cluster 1">
                    <input type="text" id="matching-cluster-2" class="input-field" placeholder="Matching Cluster 2">
                    <input type="text" id="matching-cluster-3" class="input-field" placeholder="Matching Cluster 3">
                </div>
            </div>
        </div>

        <div class="mb-8 border border-gray-300 rounded-lg overflow-hidden">
            <h2 class="text-xl sm:text-2xl font-bold text-center py-3 table-header">
                How do you feel about the Career Clusters you were matched with?
            </h2>
            <div class="p-4">
                <textarea id="feelings-on-clusters" class="input-field min-h-[80px]" placeholder="Share your thoughts and feelings here..."></textarea>
            </div>
        </div>

        <button id="downloadBtn" class="mt-8 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
            Download as Image
        </button>
        <p id="downloadStatus" class="mt-4 text-sm text-gray-600 hidden">Generating image...</p>

    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script>
        const downloadBtn = document.getElementById('downloadBtn');
        const worksheetContent = document.getElementById('worksheet-content');
        const downloadStatus = document.getElementById('downloadStatus');

        /**
         * Downloads the content of the worksheet as a PNG image.
         */
        async function downloadWorksheetAsImage() {
            downloadBtn.disabled = true;
            downloadStatus.classList.remove('hidden');

            try {
                // Use html2canvas to capture the content of the worksheet-content div
                const canvas = await html2canvas(worksheetContent, {
                    scale: 2, // Increase scale for better resolution
                    useCORS: true, // Enable cross-origin images if any (though none are used here)
                    logging: false // Disable logging for cleaner console
                });

                // Convert the canvas to a data URL (PNG format)
                const imageDataUrl = canvas.toDataURL('image/png');

                // Create a temporary anchor element to trigger the download
                const a = document.createElement('a');
                a.href = imageDataUrl;
                a.download = 'career_assessments_responses.png'; // Set the filename for the download

                // Programmatically click the anchor to trigger the download
                document.body.appendChild(a); // Append to body (required for Firefox)
                a.click();
                document.body.removeChild(a); // Remove the temporary anchor

                downloadStatus.textContent = 'Download complete!';
            } catch (error) {
                console.error('Error generating or downloading image:', error);
                downloadStatus.textContent = 'Download failed. Please try again.';
            } finally {
                downloadBtn.disabled = false;
                setTimeout(() => {
                    downloadStatus.classList.add('hidden');
                    downloadStatus.textContent = 'Generating image...'; // Reset text for next time
                }, 3000);
            }
        }

        // Add event listener to the download button
        downloadBtn.addEventListener('click', downloadWorksheetAsImage);
    </script>
</body>
</html>
